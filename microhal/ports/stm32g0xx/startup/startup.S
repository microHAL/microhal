.syntax unified
.cpu cortex-m0plus
.fpu softvfp
.thumb

.global Reset_Handler

	.section .text.Reset_Handler
 	.type Reset_Handler, %function
Reset_Handler:
/*
+-----------------------------------------------------------------------------+
| Set stack pointer
+-----------------------------------------------------------------------------+
*/
	ldr   r0, =__main_stack_end
	mov   sp, r0
/*
+-----------------------------------------------------------------------------+
| Initialize .data, .bss section
+-----------------------------------------------------------------------------+
*/
	bl startup_code
/*
+-----------------------------------------------------------------------------+
| Call C++ constructors for global and static objects
+-----------------------------------------------------------------------------+
*/
	bl __libc_init_array
/*
+-----------------------------------------------------------------------------+
| Branch to hardware_setup()
+-----------------------------------------------------------------------------+
*/
	bl hardwareConfig
/*
+-----------------------------------------------------------------------------+
| Branch to main()
+-----------------------------------------------------------------------------+
*/
	bl main
/*
+-----------------------------------------------------------------------------+
| On return - loop till the end of the world
+-----------------------------------------------------------------------------+
*/
	b		.

/******************************************************************************
* END OF FILE
******************************************************************************/
